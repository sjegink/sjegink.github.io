(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7640:function(e,n,t){Promise.resolve().then(t.bind(t,3142))},3142:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var r=t(7437),a=t(8646),s=t(9183),i=t(1444);let l=e=>(0,i.v9)(n=>{var t;let r=36e5*n.seed.value;return null!==(t=e(r))&&void 0!==t?t:r});function o(){let e=(0,a._)(["\n	height: 3px;\n	background-color: rgb(var(--foreground-rgb));\n"]);return o=function(){return e},e}function u(){let e=l(e=>{let n=new Date(e);return e&&"".concat(n.getFullYear(),"학년도 ").concat(n.getMonth()+1,"월 ").concat(n.getDate(),"일")||""});return(0,r.jsxs)("header",{className:"      my-4      w-full      flex flex-col items-center      text-center     ",children:[(0,r.jsxs)("div",{className:"font-semibold",children:[(0,r.jsx)("span",{className:"whitespace-nowrap",children:e}),"\xa0",(0,r.jsx)("span",{className:"whitespace-nowrap",children:"사설수학능력평가 문제지"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-wrap justify-evenly",children:[(0,r.jsx)(c,{className:"mr-auto"}),(0,r.jsxs)("h1",{className:"font-bold",style:{fontSize:"250%"},children:["포켓몬"," 영역"]}),(0,r.jsx)(c,{className:"ml-auto invisible"})]}),(0,r.jsx)(m,{className:"w-full my-2"})]})}let c=e=>{var n,t;let a=l(e=>{let n=new Date(e);return 8>n.getHours()?"심야 ".concat(n.getHours()+1," 교시"):"제 ".concat(n.getHours()-8," 교시")}),s=null!==(t="".concat(null!==(n=e.className)&&void 0!==n?n:"").match(/\S+/g))&&void 0!==t?t:[];return(0,r.jsx)("div",{className:s.concat(["my-auto","flex-grow-0 flex-shrink-0","font-semibold"]).join(" "),style:{borderRadius:"15px",border:"1px solid rgb(var(--foreground-rgb))",padding:"2px .5rem"},children:a})},m=s.ZP.hr(o()),f=new(t(5323)).Z;function h(e,n,t){var r,a;return null!==(a=null===(r=e.filter(e=>n===e.language.name)[0])||void 0===r?void 0:r.name)&&void 0!==a?a:t}async function d(e){let n=[e].flat(),t=await Promise.all(n.map(async e=>{let n=await f.getPokemonSpeciesByName(e);return h(n.names,"ko",n.name)}));return Array.isArray(e)?t:t[0]}async function p(e,n){return console.log("Make QuizList..."),g[e](n).then(e=>e.map((e,n)=>Object.assign(e,{sequenceNumber:n+1})))}let g={};g.pokemon=async function(e){function n(n,t){return(e+a.length)*(e-a.length)%(t-n+1)+n}function t(e,t){let a=1024;for(;e.length<4;){let s=n(e[e.length-1],65535);for(;;){if(--a<0){console.warn(Error("Unlimited Loop Detected!")),e.splice(1,e.length-1,...e[0]<152?[1,4,7]:[152,155,158]);break}if(s%=r[r.length-1]+1,e.includes(s)||t&&!t(s)){s+=100;continue}e.push(s);break}}return e}let r=[0,151,251,386,493,649,721,809,905,1025],a=[];{let e=[],t=[[1,4,7],[152,155,158],[252,255,258],[387,390,393],[495,498,501],[650,653,656],[722,725,728],[810,813,816],[906,909,912]],r=Math.floor(n(0,t.length-1)),s=Math.floor(n(1,t.length-1));r===s&&(s=0);let i=Array.from(t[r]);i.push(t[s].sort(()=>n(-100,100))[0]),e.push(...await d(i)),e.sort(()=>Math.random()-.5),a.push({question:"다음 스타팅 포켓몬 중 세대가 다른 것은?",options:e})}{let e=[],s={question:"다음 중 %d세대 포켓몬을 고르시오.",options:e},i=n(1,r.length-1);s.question=s.question.replace("%d","".concat(i));let l=r[i-1]+1,o=r[i],u=[n(l,o)];t(u,e=>e<l||o<e),e.push(...await d(u)),e.sort(()=>Math.random()-.5),a.push(s)}{let e=[],s={question:"다음 실루엣에 해당하는 포켓몬의 이름을 고르시오.",reference:{type:"image.blind",url:""},options:e},i=n(1,r[r.length-1]);s.reference.url="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(i,".png");let l=[i];t(l),e.push(...await d(l)),e.sort(()=>Math.random()-.5),a.push(s)}return a.push(await (async()=>{let e=[],a={question:"",options:e},s=[n(1,r[r.length-1])];t(s);let i=await Promise.all(s.map(e=>f.getPokemonByName(e))),l={};for(let e=0;e<i.length;e++)i[e].types.forEach(n=>{var t;let r=n.type.name;null!==(t=l[r])&&void 0!==t||(l[r]=[]),l[r].push(e)});let o=Object.entries(l).reduce((e,n)=>{let[t,r]=n;return 3===r.length&&e.push(t),e},[]),u=Object.entries(l).reduce((e,n)=>{let[t,r]=n;return 1===r.length&&e.push(t),e},[]);if(1===o.length){a.question="다음 중 타입이 가장 다른 하나를 고르시오.";let n=l[o[0]].map(e=>s[e]);for(;n.includes(s[0]);)s.push(s.shift());e.push(...await d(s))}else if(0<u.length){let n=u[0],t=h((await f.getTypeByName(n)).names,"ko");a.question="다음 중 ".concat(t," 타입을 가진 포켓몬을 고르시오.");let r=l[u[0]][0];s.unshift(s.splice(r,1)[0]),e.push(...await d(s))}else{let n=i[0],t=await d(s[0]),r=n.types.map(e=>e.type.name);a.question="다음 중 ".concat(t,"의 타입을 고르시오.");let l=(await f.getTypesList()).results.map(e=>e.name),o=[];for(let e of(o.push(r.sort(()=>Math.random()-.5)[0]),l.sort(()=>Math.random()-.5)))if(!r.includes(e)&&(o.push(e),4<=o.length))break;e.push(...await Promise.all(o.map(async e=>h((await f.getTypeByName(e)).names,"ko"))))}return e.sort(()=>Math.random()-.5),a})()),a};var b=t(2265),x=t(4839);function v(){let e=(0,a._)(["\n	> a {\n		position: relative;\n	}\n\n	> a {\n		cursor: pointer;\n		outline: none;\n		&.focused::before {\n			--hightlight-rgb: 191,255,0;\n			content: '';\n			position: absolute;\n			top: .1rem;\n			left: .5rem;\n			right: .25rem;\n			width: 100%;\n			height: .9rem;\n			border-radius: 30% 60% 60% 30%;\n			background: linear-gradient(90deg\n				, rgba(var(--hightlight-rgb), .0) 0%\n				, rgba(var(--hightlight-rgb), .5) 5%\n				, rgba(var(--hightlight-rgb), .4) 80%\n				, rgba(var(--hightlight-rgb), .0) 100%);\n			opacity: .75;\n			filter: blur(.5px);\n		}\n\n		&.selected{\n			&.focused {\n			}\n			&::after {\n				content: '';\n				position: absolute;\n				bottom: 0.4rem;\n				left: -0.1rem;\n				width: 1.5rem;\n				height: 1.5rem;\n				background: transparent url('check.svg') center center / contain no-repeat;\n				opacity: .75;\n				filter: blur(.5px);\n			}\n		}\n	}\n"]);return v=function(){return e},e}function w(e){let n=(0,i.v9)(n=>(0,x.Z)(e.sequenceNumber===n.focus.sequenceNumber&&e.index===n.focus.index&&"focused",n.choice.value[e.sequenceNumber]===e.index&&"selected"));return(0,r.jsx)(y,{children:(0,r.jsxs)("a",{...0===e.index&&{href:"#",tabIndex:1e3+e.sequenceNumber},className:n,onClick:function(e){e.preventDefault()},children:[String.fromCharCode(9312+e.index)," ",e.children]})})}let y=s.ZP.li(v());var N=t(7215),q=t(4722);function k(e){let n=(0,b.useRef)(null),t=(0,i.I0)(),a=(0,i.v9)(n=>n.focus.sequenceNumber===e.sequenceNumber?n.focus.index:-1),s=(0,i.v9)(n=>{var t;return null!==(t=n.choice.value[e.sequenceNumber])&&void 0!==t?t:-1});function l(e,n){o(e=Math.max(0,Math.min(3,e+n)))}function o(r){t((0,q.k)({sequenceNumber:e.sequenceNumber,answerIndex:r})),n.current.querySelectorAll("li > a").forEach((n,t)=>{r==t?(n.setAttribute("href","#"),n.setAttribute("tabindex",(1e3+e.sequenceNumber).toString()),n.focus()):(n.removeAttribute("href"),n.removeAttribute("tabindex"))})}function u(n){s===n&&(n=-1),t((0,N.Y)({sequenceNumber:e.sequenceNumber,answerIndex:n}))}function c(e){let n=e.closest("li");return Array.from(n.parentNode.children).indexOf(n)}return(0,r.jsxs)("article",{ref:n,className:"quizitem      w-1/2      max-md:w-full      pt-4 px-4     ",onKeyDown:function(e){switch(e.key){case"ArrowUp":e.preventDefault(),l(a,-1);return;case"ArrowDown":e.preventDefault(),l(a,1);return;case"Tab":break;case" ":case"Enter":e.preventDefault(),u(a);return}},onMouseMove:function(e){e.target instanceof HTMLAnchorElement&&o(c(e.target))},onFocus:function(n){if(n.target instanceof HTMLAnchorElement){let r=c(n.target);t((0,q.k)({sequenceNumber:e.sequenceNumber,answerIndex:r}))}},onBlur:function(n){n.target instanceof HTMLAnchorElement&&c(n.target)===a&&t((0,q.k)({sequenceNumber:e.sequenceNumber,answerIndex:-1}))},onClick:function(e){e.target instanceof HTMLAnchorElement&&u(c(e.target))},children:[(0,r.jsxs)("p",{className:"mb-2",children:[e.sequenceNumber,". ",e.question]}),e.reference&&(0,r.jsx)("div",{className:"reference flex items-center justify-center mb-2",children:["image","image.blind"].includes(e.reference.type)&&(0,r.jsx)("div",{className:"w-1/2",children:(0,r.jsx)("img",{className:"w-full",src:e.reference.url,alt:e.reference.url,style:{filter:"image.blind"===e.reference.type?"brightness(0)":""},onDragStart:e=>e.preventDefault()})})}),(0,r.jsx)("ol",{className:"mb-2",children:e.options.map((n,t)=>(0,r.jsx)(w,{sequenceNumber:e.sequenceNumber,index:t,children:n},"option_".concat(t+1)))})]})}function j(){let[e,n]=(0,b.useState)(),t=(0,i.v9)(e=>e.seed.value),a=(0,b.useCallback)(M,[]);return(0,b.useEffect)(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[a]),(0,b.useEffect)(()=>{t&&Promise.resolve().then(async()=>{n(await p("pokemon",t)),a()})},[t,a]),(0,r.jsx)("main",{className:"flex flex-col flex-wrap",children:null==e?void 0:e.map((e,n)=>(0,r.jsx)(k,{...e},"quizitem_".concat(n+1)))})}function M(){var e;let n=Array.from(document.querySelectorAll(".quizitem")),t=null==n?void 0:null===(e=n[0])||void 0===e?void 0:e.parentNode;if(null==t)return;let r=0,a=-1;if(document.body.clientWidth<768);else{let e=n.map(e=>e.getBoundingClientRect().height),t=e.reduce((e,n)=>e+n),s=[];for(let n=0;n<e.length-1;n++)if(r+=e[n],s[n]=Math.abs(t-r-r),a<0||s[n]<s[a])a=n;else{r-=e[n],r=Math.max(r,t-r);break}}0<=a?t.style.height=Math.ceil(r).toFixed(0)+"px":t.style.height=""}var S=t(6463),A=t(9577);function E(){var e;let n=(0,S.useSearchParams)(),t=(0,i.I0)(),a=Math.floor(Date.now()/36e5),s=parseInt(null!==(e=n.get("n"))&&void 0!==e?e:"0");return(!s||a<s)&&(s=a),(0,b.useEffect)(()=>{t((0,A.P)(s));let e=new URLSearchParams(n.toString());e.set("n",s.toString()),history.replaceState(history.state,"","?"+e.toString())},[t,n,s]),(0,r.jsxs)("div",{className:"      min-h-screen      d-flex      py-4 px-8      max-md:p-4     ",style:{},children:[(0,r.jsx)(u,{}),(0,r.jsx)(j,{})]})}},7215:function(e,n,t){"use strict";t.d(n,{V:function(){return r},Y:function(){return a}});let r=(0,t(6862).oM)({name:"choice",initialState:{value:[]},reducers:{setChoice:(e,n)=>{e.value[n.payload.sequenceNumber]=n.payload.answerIndex}}}),{setChoice:a}=r.actions},4722:function(e,n,t){"use strict";t.d(n,{L:function(){return r},k:function(){return a}});let r=(0,t(6862).oM)({name:"focus",initialState:{sequenceNumber:0,index:-1},reducers:{setFocus:(e,n)=>{e.sequenceNumber=n.payload.sequenceNumber,e.index=n.payload.answerIndex}}}),{setFocus:a}=r.actions},9577:function(e,n,t){"use strict";t.d(n,{P:function(){return a},s:function(){return r}});let r=(0,t(6862).oM)({name:"seed",initialState:{value:0},reducers:{setSeed:(e,n)=>{e.value=n.payload}}}),{setSeed:a}=r.actions}},function(e){e.O(0,[562,133,971,23,744],function(){return e(e.s=7640)}),_N_E=e.O()}]);